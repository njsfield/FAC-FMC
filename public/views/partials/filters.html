<ul class="list-group">
  <li class="list-group-item filter-list filter-title">
    <p id='filter-calls'>Filter Your Calls:</p>
  </li>
  <li class="list-group-item filter-list">
    <div class="row">
      <div class='col-xs-4'>
        <p class='saved-filters'>Saved Filters:</p>
      </div>
      <div class='col-xs-8'>
        <select id="dropdown" name="saved-filters">
          <option selected disabled id='dropdown-option'>Your saved filters</option>
          {{#each filters}}
          <option value="{{filter_spec}}">{{filter_name}}</option>
          {{/each}}
        </select>
      </div>
    </div>
  </li>
  <li class='list-group-item filter-list'>
    <button class='btn btn-primary' id='clear-form'>clear form</button>
  </li>
  <div id="filter">
    <div class="form-group">
      <form action="/dashboard" method="get">
      {{#if userObj.isAdmin}}
        <li class="list-group-item">
          <div class='row'>
            <div class='col-xs-4'>
              <p>
                <p class='saved-filters'> Company: </p>
              </p>
            </div>
            <div class='col-xs-8'>
              <select class='drop-options' id="companies" name="admin_company">
                {{#each userObj.adminCompanies}}
                <option value={{name}} {{{./selected}}}>{{name}}</option>
                {{/each}}
              </select>
            </div>
        </div>
        </li>
      {{/if}}
      <li class="list-group-item filter-list">
        <div class='row'>
          <div class='col-xs-4'><p>Call to:</p></div>
          <div class='col-xs-8'>
            <input type="text" id="to" name="to" class="form-control" placeholder="To:   e.g. 435" value="{{userObj.to}}">
          </div>
        </div>
      </li>
      <li class="filter-list list-group-item ">
        <div class='row'>
          <div class='col-xs-4'><p>Call from:</p></div>
          <div class='col-xs-8'>
            <input type="text" id="from" name="from" class="form-control" placeholder="From:  e.g. 234" value="{{userObj.from}}">
          </div>
      </div>
      </li>
      <li class="list-group-item filter-list">
        <div class='row'>
          <div class='col-xs-4'><p>Min duration:</p></div>
          <div class='col-xs-8'>
            <input type="text" id="duration_min" name="min" class="form-control" placeholder="Min-duration (min):" value="{{userObj.min}}">
          </div>
        </div>
      </li>
      <li class="list-group-item filter-list">
        <div class='row'>
          <div class='col-xs-4'><p>Max duration:</p></div>
          <div class='col-xs-8'>
            <input type="text" id="duration_max" name="max" class="form-control" placeholder="Max-duration (min):" value="{{userObj.max}}">
          </div>
        </div>
      </li>
      <li class="list-group-item filter-list">
        <div class='row'>
          <div class='col-xs-4'><p>Date: </p></div>
          <div class='col-xs-8'>
            <input type="date" id="date" name="date" class="form-control" placeholder="Date:" value="{{userObj.date}}">
          </div>
        </div>
      </li>
      <li class="list-group-item filter-list">
        <div class='row'>
          <div class='col-xs-4'><p>Tags: </p></div>
          <div class='col-xs-8'>
            <input type="text" id="tags" name="tags" class="form-control typeahead" data-source="{{tags}}" placeholder="Tags: e.g. meeting;important" value="{{userObj.tags}}">
          </div>
        </div>
      </li>
      <li class="list-group-item filter-list">

        <div class="scrollbar-tags form-control">
          Saved Tags:<br>
          {{#each savedTags}}
          <div>
            <label><input type="checkbox" class="saved-tag" name="company_tag" value="{{tag_name}}"> {{tag_name}} </label> <br>
          </div>
          {{/each}}
        </div>
      </li>
      <li class="list-group-item filter-list">
        <div class="form-control">
          <input type="checkbox" id="untagged" name="untagged" value="untagged">Untagged calls<br>
        </div>
      </li>
      <li class="list-group-item filter-list filter-title">
        <button id="filter_search" class="btn btn-primary btn-lg">Search</button>
        <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">Save as</button>
      </li>
    </form>
    </div>
    <form method="post" id="save_filter">
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="myModalLabel">Save filter as...</h4>
          </div>
          <div class="modal-body">
            <input type="text" id="filter_name" name="filter_name" class="form-control" placeholder="Name your filter">
            <p id="filter-error-message"></p>
          </div>
          <div class="modal-footer">
            <span id="error_message"></span>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" xid="save_filter" class="btn btn-primary">Save</button>
          </div>
        </div>
      </div>
    </div>
  </form>
  </div>
</ul>
